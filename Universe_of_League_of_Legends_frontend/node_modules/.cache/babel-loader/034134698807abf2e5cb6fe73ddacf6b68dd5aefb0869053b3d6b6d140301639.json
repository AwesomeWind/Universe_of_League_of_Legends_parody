{"ast":null,"code":"import { reactive, toRefs } from \"vue\";\nimport axios from \"axios\";\nimport HeadPoster from \"@/components/ShowcaseHeadPoster.vue\";\nimport BodyText from \"@/components/ShowcaseBodyText.vue\";\nimport ExtendedReading from \"@/components/ShowcaseExtendedReading.vue\";\nimport ProgressBar from \"@/components/ShowcaseProgressBar.vue\";\nexport default {\n  name: \"\",\n  components: {\n    HeadPoster,\n    BodyText,\n    ExtendedReading,\n    ProgressBar\n  },\n  setup() {\n    //这里存放数据\n    const data = reactive({\n      hero: {},\n      scroll: 0,\n      update: false\n    });\n    return {\n      ...toRefs(data)\n    };\n  },\n  //计算属性\n  computed: {},\n  //监听属性\n  watch: {\n    hero(n, o) {\n      document.title = n.translation + \" - \" + this.$route.params.meat;\n      this.update = !this.update;\n    }\n  },\n  //方法集合\n  methods: {\n    findHero(formerly) {\n      axios.get(`http://localhost:8089/api/findHero?formerly=${formerly}`).then(response => {\n        this.hero = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n  beforeCreate() {},\n  //生命周期 - 创建之前\n  created() {\n    this.findHero(this.$route.params.heroId);\n  },\n  //生命周期 - 创建之后（可以访问当前this实例）\n  beforeMount() {},\n  //生命周期 - 挂载之前\n  mounted() {\n    window.addEventListener(\"scroll\", () => {\n      this.scroll = document.documentElement.scrollTop;\n    });\n  },\n  //生命周期 - 挂载之后（可以访问DOM元素）\n  beforeUpdate() {},\n  //生命周期 - 更新之前\n  updated() {},\n  //生命周期 - 更新之后\n  beforeUnmount() {},\n  //生命周期 - 卸载之前\n  unmounted() {},\n  //生命周期 - 卸载之后\n  activated() {} //如果页面有keep-alive缓存功能，这个函数会触发\n};","map":{"version":3,"names":["reactive","toRefs","axios","HeadPoster","BodyText","ExtendedReading","ProgressBar","name","components","setup","data","hero","scroll","update","computed","watch","n","o","document","title","translation","$route","params","meat","methods","findHero","formerly","get","then","response","catch","error","console","beforeCreate","created","heroId","beforeMount","mounted","window","addEventListener","documentElement","scrollTop","beforeUpdate","updated","beforeUnmount","unmounted","activated"],"sources":["D:\\MyCode\\vueCode\\league_of_legends_universe\\src\\views\\hero_biography.vue"],"sourcesContent":["<template>\r\n    <div\r\n        class=\"mind\"\r\n        v-if=\"update\"\r\n    >\r\n        <transition name=\"bk_posters\">\r\n            <div\r\n                v-show=\"scroll==0\"\r\n                class=\"posters\"\r\n                :style=\"{\r\n              'background-image': `url(${require(`../assets/img/hero_posters/${hero.posters}`)})`,\r\n              'background-position': `${hero.x/hero.width*100}% ${hero.y/hero.x*100}%`}\"\r\n            ></div>\r\n        </transition>\r\n        <ProgressBar :Scroll=\"scroll\">\r\n            <template v-slot:name>{{ hero.translation }}</template>\r\n            <template v-slot:title>{{ hero.title }}</template>\r\n        </ProgressBar>\r\n        <HeadPoster :Scroll=\"scroll\">\r\n            <template v-slot:name>{{ hero.translation }}</template>\r\n            <template v-slot:title>{{ hero.title }}</template>\r\n        </HeadPoster>\r\n        <BodyText :Scroll=\"scroll\"></BodyText>\r\n        <ExtendedReading></ExtendedReading>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport axios from \"axios\";\r\nimport HeadPoster from \"@/components/ShowcaseHeadPoster.vue\";\r\nimport BodyText from \"@/components/ShowcaseBodyText.vue\";\r\nimport ExtendedReading from \"@/components/ShowcaseExtendedReading.vue\";\r\nimport ProgressBar from \"@/components/ShowcaseProgressBar.vue\";\r\n\r\nexport default {\r\n    name: \"\",\r\n    components: { HeadPoster, BodyText, ExtendedReading, ProgressBar },\r\n    setup() {\r\n        //这里存放数据\r\n        const data = reactive({\r\n            hero: {},\r\n            scroll: 0,\r\n            update: false,\r\n        });\r\n        return {\r\n            ...toRefs(data),\r\n        };\r\n    },\r\n    //计算属性\r\n    computed: {},\r\n    //监听属性\r\n    watch: {\r\n        hero(n, o) {\r\n            document.title = n.translation + \" - \" +this.$route.params.meat;\r\n            this.update = !this.update;\r\n        },\r\n    },\r\n    //方法集合\r\n    methods: {\r\n        findHero(formerly) {\r\n            axios\r\n                .get(`http://localhost:8089/api/findHero?formerly=${formerly}`)\r\n                .then((response) => {\r\n                    this.hero = response.data;\r\n                })\r\n                .catch((error) => {\r\n                    console.error(error);\r\n                });\r\n        },\r\n    },\r\n    beforeCreate() {}, //生命周期 - 创建之前\r\n    created() {\r\n        this.findHero(this.$route.params.heroId);\r\n    }, //生命周期 - 创建之后（可以访问当前this实例）\r\n    beforeMount() {}, //生命周期 - 挂载之前\r\n    mounted() {\r\n        window.addEventListener(\"scroll\", () => {\r\n            this.scroll = document.documentElement.scrollTop;\r\n        });\r\n    }, //生命周期 - 挂载之后（可以访问DOM元素）\r\n    beforeUpdate() {}, //生命周期 - 更新之前\r\n    updated() {}, //生命周期 - 更新之后\r\n    beforeUnmount() {}, //生命周期 - 卸载之前\r\n    unmounted() {}, //生命周期 - 卸载之后\r\n    activated() {}, //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n<style lang='less' scoped>\r\n.mind {\r\n    position: relative;\r\n    background-color: #111315;\r\n    width: 100vw;\r\n    display: flex;\r\n    flex-flow: column;\r\n    z-index: 9;\r\n    .posters {\r\n        height: 969px;\r\n        width: 100vw;\r\n        position: fixed;\r\n        background-size: cover;\r\n        z-index: 1;\r\n        top: -15px;\r\n    }\r\n}\r\n.bk_posters-enter-active {\r\n    animation: hide 0.5s ease-in reverse;\r\n}\r\n.bk_posters-leave-active {\r\n    animation: hide 0.5s ease-out;\r\n}\r\n@keyframes hide {\r\n    100% {\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>"],"mappings":"AA2BA,SAASA,QAAQ,EAAEC,MAAK,QAAS,KAAK;AACtC,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,UAAS,MAAO,qCAAqC;AAC5D,OAAOC,QAAO,MAAO,mCAAmC;AACxD,OAAOC,eAAc,MAAO,0CAA0C;AACtE,OAAOC,WAAU,MAAO,sCAAsC;AAE9D,eAAe;EACXC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE;IAAEL,UAAU;IAAEC,QAAQ;IAAEC,eAAe;IAAEC;EAAY,CAAC;EAClEG,KAAKA,CAAA,EAAG;IACJ;IACA,MAAMC,IAAG,GAAIV,QAAQ,CAAC;MAClBW,IAAI,EAAE,CAAC,CAAC;MACRC,MAAM,EAAE,CAAC;MACTC,MAAM,EAAE;IACZ,CAAC,CAAC;IACF,OAAO;MACH,GAAGZ,MAAM,CAACS,IAAI;IAClB,CAAC;EACL,CAAC;EACD;EACAI,QAAQ,EAAE,CAAC,CAAC;EACZ;EACAC,KAAK,EAAE;IACHJ,IAAIA,CAACK,CAAC,EAAEC,CAAC,EAAE;MACPC,QAAQ,CAACC,KAAI,GAAIH,CAAC,CAACI,WAAU,GAAI,KAAI,GAAG,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,IAAI;MAC/D,IAAI,CAACV,MAAK,GAAI,CAAC,IAAI,CAACA,MAAM;IAC9B;EACJ,CAAC;EACD;EACAW,OAAO,EAAE;IACLC,QAAQA,CAACC,QAAQ,EAAE;MACfxB,KAAI,CACCyB,GAAG,CAAE,+CAA8CD,QAAS,EAAC,EAC7DE,IAAI,CAAEC,QAAQ,IAAK;QAChB,IAAI,CAAClB,IAAG,GAAIkB,QAAQ,CAACnB,IAAI;MAC7B,CAAC,EACAoB,KAAK,CAAEC,KAAK,IAAK;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACxB,CAAC,CAAC;IACV;EACJ,CAAC;EACDE,YAAYA,CAAA,EAAG,CAAC,CAAC;EAAE;EACnBC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACT,QAAQ,CAAC,IAAI,CAACJ,MAAM,CAACC,MAAM,CAACa,MAAM,CAAC;EAC5C,CAAC;EAAE;EACHC,WAAWA,CAAA,EAAG,CAAC,CAAC;EAAE;EAClBC,OAAOA,CAAA,EAAG;IACNC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;MACpC,IAAI,CAAC3B,MAAK,GAAIM,QAAQ,CAACsB,eAAe,CAACC,SAAS;IACpD,CAAC,CAAC;EACN,CAAC;EAAE;EACHC,YAAYA,CAAA,EAAG,CAAC,CAAC;EAAE;EACnBC,OAAOA,CAAA,EAAG,CAAC,CAAC;EAAE;EACdC,aAAaA,CAAA,EAAG,CAAC,CAAC;EAAE;EACpBC,SAASA,CAAA,EAAG,CAAC,CAAC;EAAE;EAChBC,SAASA,CAAA,EAAG,CAAC,CAAC,CAAE;AACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}